!function(){"use strict";function e(e,t,n,o,r,i){function c(n){function c(e){r.cancel(f),s.resolve(e),!0===e.data.respuesta&&u(e.data)}function a(e){r.cancel(f),d(),s.reject(e)}var s=t.defer(),l=s.promise,f=r(function(){v.resolve(),o.hide(),g("Tiempo de respuesta agotado, verifique su conexion")},1e4),v=t.defer();return e.post(i+"/authenticate",n,{timeout:v.promise}).then(c,a),l}function a(n){function c(e){r.cancel(l),u.resolve(e)}function a(e){r.cancel(l),u.reject(e)}var u=t.defer(),s=u.promise,l=r(function(){f.resolve(),o.hide(),g("Tiempo de respuesta agotado, verifique su conexion")},1e4),f=t.defer();return e.post(i+"/administrador",n,{timeout:f.promise}).then(c,a),s}function u(e){var e=JSON.parse("["+e.user+"]");window.localStorage.setItem("data",JSON.stringify(e[0].sitio)),window.localStorage.setItem("sitioId",e[0].sitio.id),window.localStorage.setItem("userId",e[0].id),window.localStorage.setItem("email",e[0].email),window.localStorage.setItem("token",e[0].token),window.localStorage.setItem("userIsLogin",!0)}function s(){return JSON.parse(window.localStorage.getItem("data"))}function l(){var e=t.defer(),n=e.promise,o=s();return o?e.resolve(o):e.resolve(!1),n}function f(){function r(e){}function c(e){a.reject(e)}var a=t.defer(),u=a.promise,s=localStorage.getItem("regId");return d(),setTimeout(function(){n.clearCache(),n.clearHistory(),n.nextViewOptions({disableBack:!0,historyRoot:!0}),o.hide()},30),a.resolve(),localStorage.setItem("regId",s),e.post(i+"/logout").then(r,c),u}function d(){localStorage.clear(),sessionStorage.clear()}function g(e){o.show({template:e,noBackdrop:!0,duration:2e3})}return{login:c,currentUser:s,logout:f,autologin:l,registro:a}}angular.module("auth").service("authService",["$http","$q","$ionicHistory","$ionicLoading","$timeout","API_URL",e])}(),function(){"use strict";function e(e,t,n,o,r){function i(i){function c(e){r.cancel(l),u.resolve(e)}function a(e){u.reject(e),r.cancel(l)}var u=t.defer(),s=u.promise,l=r(function(){f.resolve(),o.hide(),message("Conexi贸n lenta, intente nuevamente")},1e4),f=t.defer();return e.get(n+"/canchas/"+i+"/sitio").then(c,a),s}return{get:i}}angular.module("app").service("canchaService",["$http","$q","API_URL","$ionicLoading","$timeout",e])}(),function(){"use strict";function e(e,t,n,o,r){function i(i){function c(e){r.cancel(l),u.resolve(e)}function a(e){u.reject(e),r.cancel(l)}var u=t.defer(),s=u.promise,l=r(function(){f.resolve(),o.hide(),message("Conexi贸n lenta, intente nuevamente")},1e4),f=t.defer();return e.get(n+"/cliente/"+i).then(c,a),s}function c(o){function r(e){c.resolve(e)}function i(e){c.reject(e)}var c=t.defer(),a=c.promise;return e.get(n+"/cliente/"+o+"/telefono").then(r,i),a}return{get:i,getByPhone:c}}angular.module("app").service("clienteService",["$http","$q","API_URL","$ionicLoading","$timeout",e])}(),function(){"use strict";function e(e,t,n,o,r){function i(o){function r(e){c.resolve(e)}function i(e){c.reject(e)}var c=t.defer(),a=c.promise;return e.post(n+"/reserva/recordar",o).then(r,i),a}function c(o){function r(e){c.resolve(e)}function i(e){c.reject(e)}var c=t.defer(),a=c.promise;return e.put(n+"/reservas/fecha/"+o.idReserva,o).then(r,i),a}function a(o){function r(e){c.resolve(e)}function i(e){c.reject(e)}var c=t.defer(),a=c.promise;return e.put(n+"/reservas/"+o.idReserva,o).then(r,i),a}function u(o){function r(e){c.resolve(e)}function i(e){c.reject(e)}var c=t.defer(),a=c.promise;return e.post(n+"/reservas",o).then(r,i),a}function s(o,r){function i(e){a.resolve(e)}function c(e){a.reject(e)}var a=t.defer(),u=a.promise;return e.get(n+"/reservas/sitio/"+o+"/fecha/"+r).then(i,c),u}function l(i,c){function a(e){o.cancel(f),s.resolve(e)}function u(e){o.cancel(f),s.reject(e)}var s=t.defer(),l=s.promise,f=o(function(){d.resolve(),r.hide(),v("Conexi贸n lenta, intente nuevamente")},1e4),d=t.defer();return e.get(n+"/reservas/sitio/"+i+"/fecha/"+c+"/all",{timeout:d.promise}).then(a,u),l}function f(o){function r(e){c.resolve(e)}function i(e){c.reject(e)}var c=t.defer(),a=c.promise;return e.get(n+"/reservas/sitio/"+o).then(r,i),a}function d(o,r,i){function c(e){u.resolve(e)}function a(e){u.reject(e)}var u=t.defer(),s=u.promise;return e.get(n+"/reservas/sitio/"+o+"/fecha/"+r+"/"+i+"/estado").then(c,a),s}function g(i,c,a){function u(e){o.cancel(d),l.resolve(e)}function s(e){o.cancel(d),l.reject(e)}var l=t.defer(),f=l.promise,d=o(function(){g.resolve(),r.hide(),v("Conexi贸n lenta, intente nuevamente")},1e4),g=t.defer();return e.get(n+"/reservas/sitio/"+i+"/fecha/"+c+"/"+a+"/historial",{timeout:g.promise}).then(u,s),f}function v(e){r.show({template:e,noBackdrop:!0,duration:2e3})}return{post:u,getByFecha:s,getBySitio:f,updateReservas:a,getByFechaAll:l,getEstadisticasByFecha:d,getHistorial:g,actualizarFecha:c,recordar:i}}angular.module("app").service("reservasService",["$http","$q","API_URL","$timeout","$ionicLoading",e])}(),function(){"use strict";function e(){function e(){return null!==localStorage.getItem("userIsLogin")}function t(){if(null!==localStorage.getItem("token"))return localStorage.getItem("token")}function n(){if(null!==localStorage.getItem("data")){return JSON.parse(localStorage.getItem("data")).idUsuario}}function o(){if(null!==localStorage.getItem("sitioId"))return localStorage.getItem("sitioId")}return{isLoggedIn:e,getIdUser:n,getIdSitio:o,getToken:t}}angular.module("app").service("sessionService",e)}();